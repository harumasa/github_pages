<!DOCTYPE html>
<html lang="ja">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="robots" content="noodp" />
        <title>How to install Arch Linux - harumasa.txt</title><meta name="Description" content="This is my cool site"><meta property="og:title" content="How to install Arch Linux" />
<meta property="og:description" content="Introduction Model: DELL Inspiron 14 (5485) OS: Arch Linux Installation guide The official installation guide
1. Pre-installation 1.1 Acquire an installation image Arch Linux Downloads
1.2. Verify signature # gpg --keyserver-options auto-key-retrieve --verify archlinux-version-x86_64.iso.sig 1.3. Prepare an installation medium # dd bs=4M if=path/to/archlinux-version-x86_64.iso of=/dev/sdx conv=fsync oflag=direct status=progress 1.4. Boot the live environment Set BIOS configuration: Press F2
Fast Boot: Thorough (Disabled) Secure Boot: Disabled Boot from the USB flash drive: Press F12" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://harumasa.github.io/github_pages/20200829_log_en_install_archlinux.html" /><meta property="article:section" content="" />
<meta property="article:published_time" content="2020-08-29T00:00:00+09:00" />
<meta property="article:modified_time" content="2022-07-19T00:00:00+09:00" /><meta property="og:site_name" content="My cool site" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="How to install Arch Linux"/>
<meta name="twitter:description" content="Introduction Model: DELL Inspiron 14 (5485) OS: Arch Linux Installation guide The official installation guide
1. Pre-installation 1.1 Acquire an installation image Arch Linux Downloads
1.2. Verify signature # gpg --keyserver-options auto-key-retrieve --verify archlinux-version-x86_64.iso.sig 1.3. Prepare an installation medium # dd bs=4M if=path/to/archlinux-version-x86_64.iso of=/dev/sdx conv=fsync oflag=direct status=progress 1.4. Boot the live environment Set BIOS configuration: Press F2
Fast Boot: Thorough (Disabled) Secure Boot: Disabled Boot from the USB flash drive: Press F12"/>
<meta name="application-name" content="My cool site">
<meta name="apple-mobile-web-app-title" content="My cool site"><meta name="theme-color" content="#ffffff"><meta name="msapplication-TileColor" content="#da532c"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
        <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"><link rel="manifest" href="/site.webmanifest"><link rel="canonical" href="https://harumasa.github.io/github_pages/20200829_log_en_install_archlinux.html" /><link rel="prev" href="https://harumasa.github.io/github_pages/20200829_log_jp_githubpages.html" /><link rel="next" href="https://harumasa.github.io/github_pages/20220716_log_en_install_wsl_2.html" /><link rel="stylesheet" href="/github_pages/css/style.min.css"><link rel="preload" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
        <noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css"></noscript><link rel="preload" href="https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
        <noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css"></noscript><script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "BlogPosting",
        "headline": "How to install Arch Linux",
        "inLanguage": "ja",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https:\/\/harumasa.github.io\/github_pages\/20200829_log_en_install_archlinux.html"
        },"genre": "page","wordcount":  797 ,
        "url": "https:\/\/harumasa.github.io\/github_pages\/20200829_log_en_install_archlinux.html","datePublished": "2020-08-29T00:00:00+09:00","dateModified": "2022-07-19T00:00:00+09:00","license": "harumasa All rights reserved.","publisher": {
            "@type": "Organization",
            "name": ""},"author": {
                "@type": "Person",
                "name": "Author"
            },"description": ""
    }
    </script></head>
    <body data-header-desktop="fixed" data-header-mobile="auto"><script type="text/javascript">(window.localStorage && localStorage.getItem('theme') ? localStorage.getItem('theme') === 'dark' : ('auto' === 'auto' ? window.matchMedia('(prefers-color-scheme: dark)').matches : 'auto' === 'dark')) && document.body.setAttribute('theme', 'dark');</script>

        <div id="mask"></div><div class="wrapper"><header class="desktop" id="header-desktop">
    <div class="header-wrapper">
        <div class="header-title">
            <a href="/github_pages/" title="harumasa.txt">My cool site</a>
        </div>
        <div class="menu">
            <div class="menu-inner"><a href="javascript:void(0);" class="menu-item theme-switch" title="Switch Theme">
                    <i class="fas fa-adjust fa-fw" aria-hidden="true"></i>
                </a></div>
        </div>
    </div>
</header><header class="mobile" id="header-mobile">
    <div class="header-container">
        <div class="header-wrapper">
            <div class="header-title">
                <a href="/github_pages/" title="harumasa.txt">My cool site</a>
            </div>
            <div class="menu-toggle" id="menu-toggle-mobile">
                <span></span><span></span><span></span>
            </div>
        </div>
        <div class="menu" id="menu-mobile"><a href="javascript:void(0);" class="menu-item theme-switch" title="Switch Theme">
                <i class="fas fa-adjust fa-fw" aria-hidden="true"></i>
            </a></div>
    </div>
</header><main class="main">
                <div class="container"><div class="page single special"><h1 class="single-title animate__animated animate__pulse animate__faster">How to install Arch Linux</h1><div class="content" id="content"><h2 id="introduction">Introduction</h2>
<ul>
<li>Model: DELL Inspiron 14 (5485)</li>
<li>OS: Arch Linux</li>
</ul>
<h2 id="installation-guide">Installation guide</h2>
<p><a href="https://wiki.archlinux.org/title/Installation_guide" title="The official installation guide" target="_blank" rel="noopener noreffer ">The official installation guide</a></p>
<h3 id="1-pre-installation">1. Pre-installation</h3>
<h4 id="11-acquire-an-installation-image">1.1 Acquire an installation image</h4>
<p><a href="https://www.archlinux.org/download/" title="Arch Linux Downloads" target="_blank" rel="noopener noreffer ">Arch Linux Downloads</a></p>
<h4 id="12-verify-signature">1.2. Verify signature</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span><span style="color:#75715e"># gpg --keyserver-options auto-key-retrieve --verify archlinux-version-x86_64.iso.sig</span>
</span></span></code></pre></div><h4 id="13-prepare-an-installation-medium">1.3. Prepare an installation medium</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span><span style="color:#75715e"># dd bs=4M if=path/to/archlinux-version-x86_64.iso of=/dev/sdx conv=fsync oflag=direct status=progress</span>
</span></span></code></pre></div><h4 id="14-boot-the-live-environment">1.4. Boot the live environment</h4>
<p>Set BIOS configuration: Press F2</p>
<ul>
<li>Fast Boot: Thorough (Disabled)</li>
<li>Secure Boot: Disabled</li>
</ul>
<p>Boot from the USB flash drive: Press F12</p>
<h4 id="15-set-the-console-keyboard-layout">1.5. Set the console keyboard layout</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span><span style="color:#75715e"># loadkeys jp106</span>
</span></span></code></pre></div><h4 id="16-verify-the-boot-mode">1.6. Verify the boot mode</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span><span style="color:#75715e"># ls /sys/firmware/efi/efivars</span>
</span></span></code></pre></div><h4 id="17-connect-to-the-internet">1.7. Connect to the Internet</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span><span style="color:#75715e"># iwctl</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>iwd<span style="color:#f92672">]</span><span style="color:#75715e"># device list</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>iwd<span style="color:#f92672">]</span><span style="color:#75715e"># station ${DEVICENAME} scan</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>iwd<span style="color:#f92672">]</span><span style="color:#75715e"># station ${DEVICENAME} get-networks</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>iwd<span style="color:#f92672">]</span><span style="color:#75715e"># station ${DEVICENAME} connect SSID</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>iwd<span style="color:#f92672">]</span><span style="color:#75715e"># exit</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span><span style="color:#75715e"># ping archlinux.org</span>
</span></span></code></pre></div><h4 id="18-update-the-system-clock">1.8. Update the system clock</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span><span style="color:#75715e"># timedatectl set-ntp true</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># timedatectl status</span>
</span></span></code></pre></div><h4 id="19-partition-the-disks">1.9. Partition the disks</h4>
<p>Identify devices</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span><span style="color:#75715e"># fdisk -l</span>
</span></span></code></pre></div><p>Example layout (UEFI with GPT)</p>
<table>
<thead>
<tr>
<th>Mount point:</th>
<th>Partition:</th>
<th>Partition type:</th>
<th>Size:</th>
</tr>
</thead>
<tbody>
<tr>
<td>/mnt/boot</td>
<td>/dev/nvme0n1p1</td>
<td>EFI system partition</td>
<td>512 MB</td>
</tr>
<tr>
<td>/mnt</td>
<td>/dev/nvme0n1p2</td>
<td>Linux filesystem</td>
<td>Remainder of the device</td>
</tr>
</tbody>
</table>
<p>Create partitions</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span><span style="color:#75715e"># cgdisk /dev/nvme0n1</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>1. 512MB EFI partition <span style="color:#75715e"># Hex code ef00</span>
</span></span><span style="display:flex;"><span>2. 100% size partiton <span style="color:#75715e"># Hex code 8300</span>
</span></span></code></pre></div><p>Encrypting devices</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span><span style="color:#75715e"># cryptsetup luksFormat /dev/nvme0n1p2</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># cryptsetup open --type luks /dev/nvme0n1p2 cryptroot</span>
</span></span></code></pre></div><p>Create encrypted partitions</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span><span style="color:#75715e"># pvcreate /dev/mapper/cryptroot</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># vgcreate vg0 /dev/mapper/cryptroot</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># lvcreate -l +100%FREE vg0 -n root</span>
</span></span></code></pre></div><h4 id="110-format-the-partitions">1.10. Format the partitions</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span><span style="color:#75715e"># mkfs.fat -F 32 /dev/nvme0n1p1</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># mkfs.ext4 /dev/mapper/vg0-root</span>
</span></span></code></pre></div><h4 id="111-mount-the-file-systems">1.11. Mount the file systems</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span><span style="color:#75715e"># mount /dev/mapper/vg0-root /mnt</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># mkdir /mnt/boot</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># mount /dev/nvme0n1p1 /mnt/boot</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># lsblk /dev/nvme0n1</span>
</span></span></code></pre></div><h3 id="2-installation">2. Installation</h3>
<h4 id="21-select-the-mirrors">2.1. Select the mirrors</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span><span style="color:#75715e"># nano /etc/pacman.d/mirrorlist</span>
</span></span></code></pre></div><p><a href="https://www.archlinux.org/mirrorlist/" title="Pacman Mirrorlist Generator" target="_blank" rel="noopener noreffer ">Pacman Mirrorlist Generator</a></p>
<h4 id="22-install-essential-packages">2.2. Install essential packages</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span><span style="color:#75715e"># pacstrap /mnt base base-devel linux linux-firmware nano</span>
</span></span></code></pre></div><h3 id="3-configure-the-system">3. Configure the system</h3>
<h4 id="31-fstab">3.1. Fstab</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span><span style="color:#75715e"># genfstab -U /mnt &gt;&gt; /mnt/etc/fstab</span>
</span></span></code></pre></div><h4 id="32-chroot">3.2. Chroot</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span><span style="color:#75715e"># arch-chroot /mnt</span>
</span></span></code></pre></div><h4 id="33-time-zone">3.3. Time zone</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span><span style="color:#75715e"># ln -sf /usr/share/zoneinfo/Asia/Tokyo /etc/localtime</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># hwclock --systohc --utc</span>
</span></span></code></pre></div><h4 id="34-localization">3.4 Localization</h4>
<p>Uncomment locales</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span><span style="color:#75715e"># nano /etc/locale.gen</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Uncomment line en_US.UTF-8 UTF-8
</span></span><span style="display:flex;"><span>Uncomment line ja_JP.UTF-8 UTF-8
</span></span></code></pre></div><p>Generate locales</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span><span style="color:#75715e"># locale-gen</span>
</span></span></code></pre></div><p>Set the language and keyboard layout</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span><span style="color:#75715e"># echo LANG=en_US.UTF-8 &gt; /etc/locale.conf</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># echo KEYMAP=jp106 &gt; /etc/vconsole.conf</span>
</span></span></code></pre></div><h4 id="35-network-configuration">3.5. Network configuration</h4>
<p>Set the hostname</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span><span style="color:#75715e"># echo ${MYHOSTNAME} &gt; /etc/hostname</span>
</span></span></code></pre></div><p>Add matching entries</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span><span style="color:#75715e"># nano /etc/hosts</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>127.0.0.1 localhost
</span></span><span style="display:flex;"><span>::1       localhost
</span></span><span style="display:flex;"><span>127.0.1.1 <span style="color:#e6db74">${</span>MYHOSTNAME<span style="color:#e6db74">}</span>
</span></span></code></pre></div><p>Setup NetworkManager</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span><span style="color:#75715e"># pacman -S networkmanager dhcpcd</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># systemctl enable NetworkManager</span>
</span></span></code></pre></div><h4 id="36-initramfs">3.6. Initramfs</h4>
<p>Modify mkinitcpio.conf</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span><span style="color:#75715e"># nano /etc/mkinitcpio.conf</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Add <span style="color:#e6db74">&#39;ext4&#39;</span> to MODULES
</span></span><span style="display:flex;"><span>Add <span style="color:#e6db74">&#39;encrypt&#39;</span> and <span style="color:#e6db74">&#39;lvm2&#39;</span> to HOOKS before <span style="color:#e6db74">&#39;filesystems&#39;</span>
</span></span></code></pre></div><p>Recreate the initramfs image</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span><span style="color:#75715e"># pacman -S lvm2</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># mkinitcpio -p</span>
</span></span></code></pre></div><h4 id="37-root-password">3.7. Root password</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span><span style="color:#75715e"># passwd</span>
</span></span></code></pre></div><h4 id="38-boot-loader">3.8. Boot loader</h4>
<p>Install systemd-boot</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span><span style="color:#75715e"># bootctl install</span>
</span></span></code></pre></div><p>Setup systemd-boot</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span><span style="color:#75715e"># nano /boot/loader/loader.conf</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>default arch.conf
</span></span><span style="display:flex;"><span>timeout <span style="color:#ae81ff">4</span>
</span></span><span style="display:flex;"><span>console-mode max
</span></span><span style="display:flex;"><span>editor  no
</span></span></code></pre></div><p>Adding loaders</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span><span style="color:#75715e"># nano /boot/loader/entries/arch.conf</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>title   Arch Linux
</span></span><span style="display:flex;"><span>linux   /vmlinuz-linux
</span></span><span style="display:flex;"><span>initrd  /amd-ucode.img
</span></span><span style="display:flex;"><span>initrd  /initramfs-linux.img
</span></span></code></pre></div><p>Setup Microcode</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span><span style="color:#75715e"># pacman -S amd-ucode</span>
</span></span></code></pre></div><h4 id="4-reboot">4. Reboot</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span><span style="color:#75715e"># exit</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># umount -R /mnt</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># reboot</span>
</span></span></code></pre></div><h4 id="5-post-installation">5. Post-installation</h4>
<p>Login with root account</p>
<p>Setup NetworkManager</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span><span style="color:#75715e"># nmtui</span>
</span></span></code></pre></div><h2 id="general-recommendations">General recommendations</h2>
<h3 id="1-system-administration">1. System administration</h3>
<h4 id="11-users-and-groups">1.1. Users and groups</h4>
<p>Login with root account</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span><span style="color:#75715e"># useradd -m -g users -G wheel ${USERNAME}</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># passwd ${USERNAME}</span>
</span></span></code></pre></div><p>To allow members of group wheel sudo access</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span><span style="color:#75715e"># EDITOR=nano visudo</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Uncommment line %wheel ALL<span style="color:#f92672">=(</span>ALL<span style="color:#f92672">)</span> ALL
</span></span><span style="display:flex;"><span>Uncommment line %wheel ALL<span style="color:#f92672">=(</span>ALL<span style="color:#f92672">)</span> NOPASSWD: ALL
</span></span></code></pre></div><p>Return to regular user</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span><span style="color:#75715e"># exit</span>
</span></span></code></pre></div><h3 id="2-package-management">2. Package management</h3>
<h4 id="21-pacman">2.1. pacman</h4>
<p>Update all packages</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span><span style="color:#75715e"># sudo pacman -Syu</span>
</span></span></code></pre></div><h4 id="25-arch-user-repository">2.5. Arch User Repository</h4>
<p>Setup paru (AUR Helper)</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span><span style="color:#75715e"># sudo pacman -S --needed base-devel</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># git clone https://aur.archlinux.org/paru.git</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># cd paru</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># makepkg -si</span>
</span></span></code></pre></div><p>Utilizing multiple cores on compression</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span><span style="color:#75715e"># sudo nano /etc/makepkg.conf</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Change line COMPRESSXZ<span style="color:#f92672">=(</span>xz -c -z --threads<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span> -<span style="color:#f92672">)</span>
</span></span></code></pre></div><p>Update all packages</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span><span style="color:#75715e"># paru</span>
</span></span></code></pre></div><h3 id="4-graphical-user-interface">4. Graphical user interface</h3>
<h4 id="41-display-server">4.1. Display server</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span><span style="color:#75715e"># sudo pacman -S xorg-server xorg-apps</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># sudo localectl set-x11-keymap jp</span>
</span></span></code></pre></div><h4 id="42-display-drivers">4.2. Display drivers</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span><span style="color:#75715e"># lspci | grep -e VGA -e 3D</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># sudo pacman -S xf86-video-amdgpu</span>
</span></span></code></pre></div><h4 id="43-desktop-environments">4.3. Desktop environments</h4>
<p>Setup Xfce</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span><span style="color:#75715e"># sudo pacman -S xfce4 xfce4-goodies</span>
</span></span></code></pre></div><p>Set the language</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span><span style="color:#75715e"># sudo nano /etc/locale.conf</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>LANG<span style="color:#f92672">=</span>ja_JP.UTF-8
</span></span></code></pre></div><p>Reboot</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span><span style="color:#75715e"># reboot</span>
</span></span></code></pre></div><h4 id="45-display-manager">4.5. Display manager</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span><span style="color:#75715e"># sudo pacman -S lightdm lightdm-gtk-greeter</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># sudo systemctl enable lightdm.service</span>
</span></span></code></pre></div><h3 id="6-multimedia">6. Multimedia</h3>
<h4 id="61-sound-system">6.1. Sound System</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span><span style="color:#75715e"># sudo pacman -S pipewire</span>
</span></span></code></pre></div><h3 id="8-input-devices">8. Input Devices</h3>
<h4 id="83-laptop-touchpads">8.3. Laptop touchpads</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span><span style="color:#75715e"># sudo pacman -S xf86-input-libinput</span>
</span></span></code></pre></div><h3 id="11-appearance">11. Appearance</h3>
<h4 id="111-fonts">11.1. Fonts</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span><span style="color:#75715e"># sudo pacman -S noto-fonts-cjk</span>
</span></span></code></pre></div><h3 id="12-console-improvements">12. Console improvements</h3>
<h4 id="123-alternative-shells">12.3. Alternative shells</h4>
<p>Setup Zsh</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span><span style="color:#75715e"># sudo pacman -S zsh</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># chsh -s $(which zsh)</span>
</span></span></code></pre></div><h4 id="125-colored-output">12.5. Colored output</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span><span style="color:#75715e"># sudo nano /etc/pacman.conf</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Uncommment line Color
</span></span></code></pre></div><h3 id="91-localizationjapanese">91. Localization/Japanese</h3>
<h4 id="914-input-methods">91.4 Input methods</h4>
<p>Setup Fcitx and Mozc</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span><span style="color:#75715e"># sudo pacman -S fcitx fcitx-mozc fcitx-im fcitx-configtool</span>
</span></span></code></pre></div><p>Set environment variables for IM modules</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span><span style="color:#75715e"># nano ~/.xprofile</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>export GTK_IM_MODULE<span style="color:#f92672">=</span>fcitx
</span></span><span style="display:flex;"><span>export QT_IM_MODULE<span style="color:#f92672">=</span>fcitx
</span></span><span style="display:flex;"><span>export XMODIFIERS<span style="color:#f92672">=</span>@im<span style="color:#f92672">=</span>fcitx
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span><span style="color:#75715e"># reboot</span>
</span></span></code></pre></div><h3 id="92-settings">92. Settings</h3>
<ul>
<li>
<p>Settings &gt; Appearance &gt; Fonts</p>
<ul>
<li>Default Font Noto Sans CJK JP Regular, 9pt</li>
<li>Default Monospace Font Noto Sans Mono CJK JP Regular, 9pt</li>
</ul>
</li>
<li>
<p>Settings &gt; FcitxConfiguration &gt; Input Method</p>
<ul>
<li>Add Mozc</li>
</ul>
</li>
</ul>
<h3 id="99-etc">99. etc</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span><span style="color:#75715e"># paru -S hyper-git</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># paru -S prezto-git</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># paru -S visual-studio-code-bin</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># sudo pacman -S docker</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># sudo systemctl enable docker</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># sudo pacman -S git</span>
</span></span></code></pre></div></div></div></div>
            </main><footer class="footer">
        <div class="footer-container"><div class="footer-line">Powered by <a href="https://gohugo.io/" target="_blank" rel="noopener noreffer" title="Hugo 0.101.0">Hugo</a> | Theme - <a href="https://github.com/dillonzq/LoveIt" target="_blank" rel="noopener noreffer" title="LoveIt 0.2.11"><i class="far fa-kiss-wink-heart fa-fw" aria-hidden="true"></i> LoveIt</a>
                </div><div class="footer-line" itemscope itemtype="http://schema.org/CreativeWork"><i class="far fa-copyright fa-fw" aria-hidden="true"></i><span itemprop="copyrightYear">2022</span><span class="author" itemprop="copyrightHolder">&nbsp;<a href="/github_pages/" target="_blank"></a></span></div>
        </div>
    </footer></div>

        <div id="fixed-buttons"><a href="#" id="back-to-top" class="fixed-button" title="Back to Top">
                <i class="fas fa-arrow-up fa-fw" aria-hidden="true"></i>
            </a><a href="#" id="view-comments" class="fixed-button" title="View Comments">
                <i class="fas fa-comment fa-fw" aria-hidden="true"></i>
            </a>
        </div><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lazysizes@5.3.2/lazysizes.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/clipboard@2.0.11/dist/clipboard.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/sharer.js@0.5.1/sharer.min.js"></script><script type="text/javascript">window.config={"code":{"copyTitle":"Copy to clipboard","maxShownLines":50},"comment":{}};</script><script type="text/javascript" src="/github_pages/js/theme.min.js"></script></body>
</html>
