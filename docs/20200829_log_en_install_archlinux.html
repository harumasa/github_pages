<!DOCTYPE html>
<html lang="ja" dir="ltr">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="Introduction # Model: DELL Inspiron 14 (5485) OS: Arch Linux Installation guide # The official installation guide
1. Pre-installation # 1.1 Acquire an installation image # Arch Linux Downloads
1.2. Verify signature # # gpg --keyserver-options auto-key-retrieve --verify archlinux-version-x86_64.iso.sig 1.3. Prepare an installation medium # # dd bs=4M if=path/to/archlinux-version-x86_64.iso of=/dev/sdx conv=fsync oflag=direct status=progress 1.4. Boot the live environment # Set BIOS configuration: Press F2
Fast Boot: Thorough (Disabled) Secure Boot: Disabled Boot from the USB flash drive: Press F12">
<meta name="theme-color" content="#FFFFFF">
<meta name="color-scheme" content="light dark"><meta property="og:title" content="How to install Arch Linux" />
<meta property="og:description" content="Introduction # Model: DELL Inspiron 14 (5485) OS: Arch Linux Installation guide # The official installation guide
1. Pre-installation # 1.1 Acquire an installation image # Arch Linux Downloads
1.2. Verify signature # # gpg --keyserver-options auto-key-retrieve --verify archlinux-version-x86_64.iso.sig 1.3. Prepare an installation medium # # dd bs=4M if=path/to/archlinux-version-x86_64.iso of=/dev/sdx conv=fsync oflag=direct status=progress 1.4. Boot the live environment # Set BIOS configuration: Press F2
Fast Boot: Thorough (Disabled) Secure Boot: Disabled Boot from the USB flash drive: Press F12" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://harumasa.github.io/github_pages/20200829_log_en_install_archlinux.html" /><meta property="article:section" content="" />
<meta property="article:published_time" content="2020-08-29T00:00:00+09:00" />
<meta property="article:modified_time" content="2022-07-19T00:00:00+09:00" />

<title>How to install Arch Linux | harumasa.txt</title>
<link rel="manifest" href="/github_pages/manifest.json">
<link rel="icon" href="/github_pages/favicon.png" type="image/x-icon">
<link rel="stylesheet" href="/github_pages/book.min.82c5dbd23447cee0b4c2aa3ed08ce0961faa40e1fa370eee4f8c9f02e0d46b5f.css" integrity="sha256-gsXb0jRHzuC0wqo&#43;0Izglh&#43;qQOH6Nw7uT4yfAuDUa18=" crossorigin="anonymous">
  <script defer src="/github_pages/flexsearch.min.js"></script>
  <script defer src="/github_pages/en.search.min.7f998dab296f6d411acb44635aad02540d57365149d077fb9f4db6211589ec39.js" integrity="sha256-f5mNqylvbUEay0RjWq0CVA1XNlFJ0Hf7n022IRWJ7Dk=" crossorigin="anonymous"></script>
<!--
Made with Book Theme
https://github.com/alex-shpak/hugo-book
-->
  
</head>
<body dir="ltr">
  <input type="checkbox" class="hidden toggle" id="menu-control" />
  <input type="checkbox" class="hidden toggle" id="toc-control" />
  <main class="container flex">
    <aside class="book-menu">
      <div class="book-menu-content">
        
  <nav>
<h2 class="book-brand">
  <a class="flex align-center" href="/github_pages/"><span>harumasa.txt</span>
  </a>
</h2>


<div class="book-search">
  <input type="text" id="book-search-input" placeholder="Search" aria-label="Search" maxlength="64" data-hotkeys="s/" />
  <div class="book-search-spinner hidden"></div>
  <ul id="book-search-results"></ul>
</div>












  
















</nav>




  <script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script>


 
      </div>
    </aside>

    <div class="book-page">
      <header class="book-header">
        
  <div class="flex align-center justify-between">
  <label for="menu-control">
    <img src="/github_pages/svg/menu.svg" class="book-icon" alt="Menu" />
  </label>

  <strong>How to install Arch Linux</strong>

  <label for="toc-control">
    
    <img src="/github_pages/svg/toc.svg" class="book-icon" alt="Table of Contents" />
    
  </label>
</div>


  
  <aside class="hidden clearfix">
    
  
<nav id="TableOfContents">
  <ul>
    <li><a href="#introduction">Introduction</a></li>
    <li><a href="#installation-guide">Installation guide</a>
      <ul>
        <li><a href="#1-pre-installation">1. Pre-installation</a></li>
        <li><a href="#2-installation">2. Installation</a></li>
        <li><a href="#3-configure-the-system">3. Configure the system</a></li>
      </ul>
    </li>
    <li><a href="#general-recommendations">General recommendations</a>
      <ul>
        <li><a href="#1-system-administration">1. System administration</a></li>
        <li><a href="#2-package-management">2. Package management</a></li>
        <li><a href="#4-graphical-user-interface">4. Graphical user interface</a></li>
        <li><a href="#6-multimedia">6. Multimedia</a></li>
        <li><a href="#8-input-devices">8. Input Devices</a></li>
        <li><a href="#11-appearance">11. Appearance</a></li>
        <li><a href="#12-console-improvements">12. Console improvements</a></li>
        <li><a href="#91-localizationjapanese">91. Localization/Japanese</a></li>
        <li><a href="#92-settings">92. Settings</a></li>
        <li><a href="#99-etc">99. etc</a></li>
      </ul>
    </li>
  </ul>
</nav>



  </aside>
  
 
      </header>

      
      
  <article class="markdown"><h2 id="introduction">
  Introduction
  <a class="anchor" href="#introduction">#</a>
</h2>
<ul>
<li>Model: DELL Inspiron 14 (5485)</li>
<li>OS: Arch Linux</li>
</ul>
<h2 id="installation-guide">
  Installation guide
  <a class="anchor" href="#installation-guide">#</a>
</h2>
<p><a href="https://wiki.archlinux.org/title/Installation_guide" title="The official installation guide">The official installation guide</a></p>
<h3 id="1-pre-installation">
  1. Pre-installation
  <a class="anchor" href="#1-pre-installation">#</a>
</h3>
<h4 id="11-acquire-an-installation-image">
  1.1 Acquire an installation image
  <a class="anchor" href="#11-acquire-an-installation-image">#</a>
</h4>
<p><a href="https://www.archlinux.org/download/" title="Arch Linux Downloads">Arch Linux Downloads</a></p>
<h4 id="12-verify-signature">
  1.2. Verify signature
  <a class="anchor" href="#12-verify-signature">#</a>
</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span><span style="color:#75715e"># gpg --keyserver-options auto-key-retrieve --verify archlinux-version-x86_64.iso.sig</span>
</span></span></code></pre></div><h4 id="13-prepare-an-installation-medium">
  1.3. Prepare an installation medium
  <a class="anchor" href="#13-prepare-an-installation-medium">#</a>
</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span><span style="color:#75715e"># dd bs=4M if=path/to/archlinux-version-x86_64.iso of=/dev/sdx conv=fsync oflag=direct status=progress</span>
</span></span></code></pre></div><h4 id="14-boot-the-live-environment">
  1.4. Boot the live environment
  <a class="anchor" href="#14-boot-the-live-environment">#</a>
</h4>
<p>Set BIOS configuration: Press F2</p>
<ul>
<li>Fast Boot: Thorough (Disabled)</li>
<li>Secure Boot: Disabled</li>
</ul>
<p>Boot from the USB flash drive: Press F12</p>
<h4 id="15-set-the-console-keyboard-layout">
  1.5. Set the console keyboard layout
  <a class="anchor" href="#15-set-the-console-keyboard-layout">#</a>
</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span><span style="color:#75715e"># loadkeys jp106</span>
</span></span></code></pre></div><h4 id="16-verify-the-boot-mode">
  1.6. Verify the boot mode
  <a class="anchor" href="#16-verify-the-boot-mode">#</a>
</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span><span style="color:#75715e"># ls /sys/firmware/efi/efivars</span>
</span></span></code></pre></div><h4 id="17-connect-to-the-internet">
  1.7. Connect to the Internet
  <a class="anchor" href="#17-connect-to-the-internet">#</a>
</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span><span style="color:#75715e"># iwctl</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>iwd<span style="color:#f92672">]</span><span style="color:#75715e"># device list</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>iwd<span style="color:#f92672">]</span><span style="color:#75715e"># station ${DEVICENAME} scan</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>iwd<span style="color:#f92672">]</span><span style="color:#75715e"># station ${DEVICENAME} get-networks</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>iwd<span style="color:#f92672">]</span><span style="color:#75715e"># station ${DEVICENAME} connect SSID</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>iwd<span style="color:#f92672">]</span><span style="color:#75715e"># exit</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span><span style="color:#75715e"># ping archlinux.org</span>
</span></span></code></pre></div><h4 id="18-update-the-system-clock">
  1.8. Update the system clock
  <a class="anchor" href="#18-update-the-system-clock">#</a>
</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span><span style="color:#75715e"># timedatectl set-ntp true</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># timedatectl status</span>
</span></span></code></pre></div><h4 id="19-partition-the-disks">
  1.9. Partition the disks
  <a class="anchor" href="#19-partition-the-disks">#</a>
</h4>
<p>Identify devices</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span><span style="color:#75715e"># fdisk -l</span>
</span></span></code></pre></div><p>Example layout (UEFI with GPT)</p>
<table>
<thead>
<tr>
<th>Mount point:</th>
<th>Partition:</th>
<th>Partition type:</th>
<th>Size:</th>
</tr>
</thead>
<tbody>
<tr>
<td>/mnt/boot</td>
<td>/dev/nvme0n1p1</td>
<td>EFI system partition</td>
<td>512 MB</td>
</tr>
<tr>
<td>/mnt</td>
<td>/dev/nvme0n1p2</td>
<td>Linux filesystem</td>
<td>Remainder of the device</td>
</tr>
</tbody>
</table>
<p>Create partitions</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span><span style="color:#75715e"># cgdisk /dev/nvme0n1</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>1. 512MB EFI partition <span style="color:#75715e"># Hex code ef00</span>
</span></span><span style="display:flex;"><span>2. 100% size partiton <span style="color:#75715e"># Hex code 8300</span>
</span></span></code></pre></div><p>Encrypting devices</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span><span style="color:#75715e"># cryptsetup luksFormat /dev/nvme0n1p2</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># cryptsetup open --type luks /dev/nvme0n1p2 cryptroot</span>
</span></span></code></pre></div><p>Create encrypted partitions</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span><span style="color:#75715e"># pvcreate /dev/mapper/cryptroot</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># vgcreate vg0 /dev/mapper/cryptroot</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># lvcreate -l +100%FREE vg0 -n root</span>
</span></span></code></pre></div><h4 id="110-format-the-partitions">
  1.10. Format the partitions
  <a class="anchor" href="#110-format-the-partitions">#</a>
</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span><span style="color:#75715e"># mkfs.fat -F 32 /dev/nvme0n1p1</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># mkfs.ext4 /dev/mapper/vg0-root</span>
</span></span></code></pre></div><h4 id="111-mount-the-file-systems">
  1.11. Mount the file systems
  <a class="anchor" href="#111-mount-the-file-systems">#</a>
</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span><span style="color:#75715e"># mount /dev/mapper/vg0-root /mnt</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># mkdir /mnt/boot</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># mount /dev/nvme0n1p1 /mnt/boot</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># lsblk /dev/nvme0n1</span>
</span></span></code></pre></div><h3 id="2-installation">
  2. Installation
  <a class="anchor" href="#2-installation">#</a>
</h3>
<h4 id="21-select-the-mirrors">
  2.1. Select the mirrors
  <a class="anchor" href="#21-select-the-mirrors">#</a>
</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span><span style="color:#75715e"># nano /etc/pacman.d/mirrorlist</span>
</span></span></code></pre></div><p><a href="https://www.archlinux.org/mirrorlist/" title="Pacman Mirrorlist Generator">Pacman Mirrorlist Generator</a></p>
<h4 id="22-install-essential-packages">
  2.2. Install essential packages
  <a class="anchor" href="#22-install-essential-packages">#</a>
</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span><span style="color:#75715e"># pacstrap /mnt base base-devel linux linux-firmware nano</span>
</span></span></code></pre></div><h3 id="3-configure-the-system">
  3. Configure the system
  <a class="anchor" href="#3-configure-the-system">#</a>
</h3>
<h4 id="31-fstab">
  3.1. Fstab
  <a class="anchor" href="#31-fstab">#</a>
</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span><span style="color:#75715e"># genfstab -U /mnt &gt;&gt; /mnt/etc/fstab</span>
</span></span></code></pre></div><h4 id="32-chroot">
  3.2. Chroot
  <a class="anchor" href="#32-chroot">#</a>
</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span><span style="color:#75715e"># arch-chroot /mnt</span>
</span></span></code></pre></div><h4 id="33-time-zone">
  3.3. Time zone
  <a class="anchor" href="#33-time-zone">#</a>
</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span><span style="color:#75715e"># ln -sf /usr/share/zoneinfo/Asia/Tokyo /etc/localtime</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># hwclock --systohc --utc</span>
</span></span></code></pre></div><h4 id="34-localization">
  3.4 Localization
  <a class="anchor" href="#34-localization">#</a>
</h4>
<p>Uncomment locales</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span><span style="color:#75715e"># nano /etc/locale.gen</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Uncomment line en_US.UTF-8 UTF-8
</span></span><span style="display:flex;"><span>Uncomment line ja_JP.UTF-8 UTF-8
</span></span></code></pre></div><p>Generate locales</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span><span style="color:#75715e"># locale-gen</span>
</span></span></code></pre></div><p>Set the language and keyboard layout</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span><span style="color:#75715e"># echo LANG=en_US.UTF-8 &gt; /etc/locale.conf</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># echo KEYMAP=jp106 &gt; /etc/vconsole.conf</span>
</span></span></code></pre></div><h4 id="35-network-configuration">
  3.5. Network configuration
  <a class="anchor" href="#35-network-configuration">#</a>
</h4>
<p>Set the hostname</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span><span style="color:#75715e"># echo ${MYHOSTNAME} &gt; /etc/hostname</span>
</span></span></code></pre></div><p>Add matching entries</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span><span style="color:#75715e"># nano /etc/hosts</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>127.0.0.1 localhost
</span></span><span style="display:flex;"><span>::1       localhost
</span></span><span style="display:flex;"><span>127.0.1.1 <span style="color:#e6db74">${</span>MYHOSTNAME<span style="color:#e6db74">}</span>
</span></span></code></pre></div><p>Setup NetworkManager</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span><span style="color:#75715e"># pacman -S networkmanager dhcpcd</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># systemctl enable NetworkManager</span>
</span></span></code></pre></div><h4 id="36-initramfs">
  3.6. Initramfs
  <a class="anchor" href="#36-initramfs">#</a>
</h4>
<p>Modify mkinitcpio.conf</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span><span style="color:#75715e"># nano /etc/mkinitcpio.conf</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Add <span style="color:#e6db74">&#39;ext4&#39;</span> to MODULES
</span></span><span style="display:flex;"><span>Add <span style="color:#e6db74">&#39;encrypt&#39;</span> and <span style="color:#e6db74">&#39;lvm2&#39;</span> to HOOKS before <span style="color:#e6db74">&#39;filesystems&#39;</span>
</span></span></code></pre></div><p>Recreate the initramfs image</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span><span style="color:#75715e"># pacman -S lvm2</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># mkinitcpio -p</span>
</span></span></code></pre></div><h4 id="37-root-password">
  3.7. Root password
  <a class="anchor" href="#37-root-password">#</a>
</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span><span style="color:#75715e"># passwd</span>
</span></span></code></pre></div><h4 id="38-boot-loader">
  3.8. Boot loader
  <a class="anchor" href="#38-boot-loader">#</a>
</h4>
<p>Install systemd-boot</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span><span style="color:#75715e"># bootctl install</span>
</span></span></code></pre></div><p>Setup systemd-boot</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span><span style="color:#75715e"># nano /boot/loader/loader.conf</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>default arch.conf
</span></span><span style="display:flex;"><span>timeout <span style="color:#ae81ff">4</span>
</span></span><span style="display:flex;"><span>console-mode max
</span></span><span style="display:flex;"><span>editor  no
</span></span></code></pre></div><p>Adding loaders</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span><span style="color:#75715e"># nano /boot/loader/entries/arch.conf</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>title   Arch Linux
</span></span><span style="display:flex;"><span>linux   /vmlinuz-linux
</span></span><span style="display:flex;"><span>initrd  /amd-ucode.img
</span></span><span style="display:flex;"><span>initrd  /initramfs-linux.img
</span></span></code></pre></div><p>Setup Microcode</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span><span style="color:#75715e"># pacman -S amd-ucode</span>
</span></span></code></pre></div><h4 id="4-reboot">
  4. Reboot
  <a class="anchor" href="#4-reboot">#</a>
</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span><span style="color:#75715e"># exit</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># umount -R /mnt</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># reboot</span>
</span></span></code></pre></div><h4 id="5-post-installation">
  5. Post-installation
  <a class="anchor" href="#5-post-installation">#</a>
</h4>
<p>Login with root account</p>
<p>Setup NetworkManager</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span><span style="color:#75715e"># nmtui</span>
</span></span></code></pre></div><h2 id="general-recommendations">
  General recommendations
  <a class="anchor" href="#general-recommendations">#</a>
</h2>
<h3 id="1-system-administration">
  1. System administration
  <a class="anchor" href="#1-system-administration">#</a>
</h3>
<h4 id="11-users-and-groups">
  1.1. Users and groups
  <a class="anchor" href="#11-users-and-groups">#</a>
</h4>
<p>Login with root account</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span><span style="color:#75715e"># useradd -m -g users -G wheel ${USERNAME}</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># passwd ${USERNAME}</span>
</span></span></code></pre></div><p>To allow members of group wheel sudo access</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span><span style="color:#75715e"># EDITOR=nano visudo</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Uncommment line %wheel ALL<span style="color:#f92672">=(</span>ALL<span style="color:#f92672">)</span> ALL
</span></span><span style="display:flex;"><span>Uncommment line %wheel ALL<span style="color:#f92672">=(</span>ALL<span style="color:#f92672">)</span> NOPASSWD: ALL
</span></span></code></pre></div><p>Return to regular user</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span><span style="color:#75715e"># exit</span>
</span></span></code></pre></div><h3 id="2-package-management">
  2. Package management
  <a class="anchor" href="#2-package-management">#</a>
</h3>
<h4 id="21-pacman">
  2.1. pacman
  <a class="anchor" href="#21-pacman">#</a>
</h4>
<p>Update all packages</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span><span style="color:#75715e"># sudo pacman -Syu</span>
</span></span></code></pre></div><h4 id="25-arch-user-repository">
  2.5. Arch User Repository
  <a class="anchor" href="#25-arch-user-repository">#</a>
</h4>
<p>Setup paru (AUR Helper)</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span><span style="color:#75715e"># sudo pacman -S --needed base-devel</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># git clone https://aur.archlinux.org/paru.git</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># cd paru</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># makepkg -si</span>
</span></span></code></pre></div><p>Utilizing multiple cores on compression</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span><span style="color:#75715e"># sudo nano /etc/makepkg.conf</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Change line COMPRESSXZ<span style="color:#f92672">=(</span>xz -c -z --threads<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span> -<span style="color:#f92672">)</span>
</span></span></code></pre></div><p>Update all packages</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span><span style="color:#75715e"># paru</span>
</span></span></code></pre></div><h3 id="4-graphical-user-interface">
  4. Graphical user interface
  <a class="anchor" href="#4-graphical-user-interface">#</a>
</h3>
<h4 id="41-display-server">
  4.1. Display server
  <a class="anchor" href="#41-display-server">#</a>
</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span><span style="color:#75715e"># sudo pacman -S xorg-server xorg-apps</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># sudo localectl set-x11-keymap jp</span>
</span></span></code></pre></div><h4 id="42-display-drivers">
  4.2. Display drivers
  <a class="anchor" href="#42-display-drivers">#</a>
</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span><span style="color:#75715e"># lspci | grep -e VGA -e 3D</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># sudo pacman -S xf86-video-amdgpu</span>
</span></span></code></pre></div><h4 id="43-desktop-environments">
  4.3. Desktop environments
  <a class="anchor" href="#43-desktop-environments">#</a>
</h4>
<p>Setup Xfce</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span><span style="color:#75715e"># sudo pacman -S xfce4 xfce4-goodies</span>
</span></span></code></pre></div><p>Set the language</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span><span style="color:#75715e"># sudo nano /etc/locale.conf</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>LANG<span style="color:#f92672">=</span>ja_JP.UTF-8
</span></span></code></pre></div><p>Reboot</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span><span style="color:#75715e"># reboot</span>
</span></span></code></pre></div><h4 id="45-display-manager">
  4.5. Display manager
  <a class="anchor" href="#45-display-manager">#</a>
</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span><span style="color:#75715e"># sudo pacman -S lightdm lightdm-gtk-greeter</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># sudo systemctl enable lightdm.service</span>
</span></span></code></pre></div><h3 id="6-multimedia">
  6. Multimedia
  <a class="anchor" href="#6-multimedia">#</a>
</h3>
<h4 id="61-sound-system">
  6.1. Sound System
  <a class="anchor" href="#61-sound-system">#</a>
</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span><span style="color:#75715e"># sudo pacman -S pipewire</span>
</span></span></code></pre></div><h3 id="8-input-devices">
  8. Input Devices
  <a class="anchor" href="#8-input-devices">#</a>
</h3>
<h4 id="83-laptop-touchpads">
  8.3. Laptop touchpads
  <a class="anchor" href="#83-laptop-touchpads">#</a>
</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span><span style="color:#75715e"># sudo pacman -S xf86-input-libinput</span>
</span></span></code></pre></div><h3 id="11-appearance">
  11. Appearance
  <a class="anchor" href="#11-appearance">#</a>
</h3>
<h4 id="111-fonts">
  11.1. Fonts
  <a class="anchor" href="#111-fonts">#</a>
</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span><span style="color:#75715e"># sudo pacman -S noto-fonts-cjk</span>
</span></span></code></pre></div><h3 id="12-console-improvements">
  12. Console improvements
  <a class="anchor" href="#12-console-improvements">#</a>
</h3>
<h4 id="123-alternative-shells">
  12.3. Alternative shells
  <a class="anchor" href="#123-alternative-shells">#</a>
</h4>
<p>Setup Zsh</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span><span style="color:#75715e"># sudo pacman -S zsh</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># chsh -s $(which zsh)</span>
</span></span></code></pre></div><h4 id="125-colored-output">
  12.5. Colored output
  <a class="anchor" href="#125-colored-output">#</a>
</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span><span style="color:#75715e"># sudo nano /etc/pacman.conf</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Uncommment line Color
</span></span></code></pre></div><h3 id="91-localizationjapanese">
  91. Localization/Japanese
  <a class="anchor" href="#91-localizationjapanese">#</a>
</h3>
<h4 id="914-input-methods">
  91.4 Input methods
  <a class="anchor" href="#914-input-methods">#</a>
</h4>
<p>Setup Fcitx and Mozc</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span><span style="color:#75715e"># sudo pacman -S fcitx fcitx-mozc fcitx-im fcitx-configtool</span>
</span></span></code></pre></div><p>Set environment variables for IM modules</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span><span style="color:#75715e"># nano ~/.xprofile</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>export GTK_IM_MODULE<span style="color:#f92672">=</span>fcitx
</span></span><span style="display:flex;"><span>export QT_IM_MODULE<span style="color:#f92672">=</span>fcitx
</span></span><span style="display:flex;"><span>export XMODIFIERS<span style="color:#f92672">=</span>@im<span style="color:#f92672">=</span>fcitx
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span><span style="color:#75715e"># reboot</span>
</span></span></code></pre></div><h3 id="92-settings">
  92. Settings
  <a class="anchor" href="#92-settings">#</a>
</h3>
<ul>
<li>
<p>Settings &gt; Appearance &gt; Fonts</p>
<ul>
<li>Default Font Noto Sans CJK JP Regular, 9pt</li>
<li>Default Monospace Font Noto Sans Mono CJK JP Regular, 9pt</li>
</ul>
</li>
<li>
<p>Settings &gt; FcitxConfiguration &gt; Input Method</p>
<ul>
<li>Add Mozc</li>
</ul>
</li>
</ul>
<h3 id="99-etc">
  99. etc
  <a class="anchor" href="#99-etc">#</a>
</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span><span style="color:#75715e"># paru -S hyper-git</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># paru -S prezto-git</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># paru -S visual-studio-code-bin</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># sudo pacman -S docker</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># sudo systemctl enable docker</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># sudo pacman -S git</span>
</span></span></code></pre></div></article>
 
      

      <footer class="book-footer">
        
  <div class="flex flex-wrap justify-between">





</div>



  <script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script>


 
        
      </footer>

      
  
  <div class="book-comments">

</div>
  
 

      <label for="menu-control" class="hidden book-menu-overlay"></label>
    </div>

    
    <aside class="book-toc">
      <div class="book-toc-content">
        
  
<nav id="TableOfContents">
  <ul>
    <li><a href="#introduction">Introduction</a></li>
    <li><a href="#installation-guide">Installation guide</a>
      <ul>
        <li><a href="#1-pre-installation">1. Pre-installation</a></li>
        <li><a href="#2-installation">2. Installation</a></li>
        <li><a href="#3-configure-the-system">3. Configure the system</a></li>
      </ul>
    </li>
    <li><a href="#general-recommendations">General recommendations</a>
      <ul>
        <li><a href="#1-system-administration">1. System administration</a></li>
        <li><a href="#2-package-management">2. Package management</a></li>
        <li><a href="#4-graphical-user-interface">4. Graphical user interface</a></li>
        <li><a href="#6-multimedia">6. Multimedia</a></li>
        <li><a href="#8-input-devices">8. Input Devices</a></li>
        <li><a href="#11-appearance">11. Appearance</a></li>
        <li><a href="#12-console-improvements">12. Console improvements</a></li>
        <li><a href="#91-localizationjapanese">91. Localization/Japanese</a></li>
        <li><a href="#92-settings">92. Settings</a></li>
        <li><a href="#99-etc">99. etc</a></li>
      </ul>
    </li>
  </ul>
</nav>


 
      </div>
    </aside>
    
  </main>

  
</body>
</html>












