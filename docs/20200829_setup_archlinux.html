<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="/css/stylesheet.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Ubuntu" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Ubuntu+Mono" rel="stylesheet">
  <title>How to setup Arch Linux (Hyper, Visual Studio Code, Docker)</title>
</head>
<body>
  <section id="page-title">
    <h1><a href="./">harumasa.txt</a></h1>
  </section>

<section class="blog-post">
  <h1>How to setup Arch Linux (Hyper, Visual Studio Code, Docker)</h1>
  <div class="blog-post-subheader">
    August 29, 2020
    (Lastmod: Aug 10 2022)
  </div>
  <div class="blog-post-content">
    <h2 id="introduction">Introduction</h2>
<ul>
<li>Model: DELL Inspiron 14 (5485)</li>
<li>OS: Arch Linux</li>
<li>Hyper</li>
<li>Visual Studio Code</li>
<li>Docker</li>
</ul>
<h2 id="installation-guide">Installation guide</h2>
<ul>
<li>
<p><a href="https://wiki.archlinux.org/title/Installation_guide" title="Installation guide">Installation guide</a></p>
</li>
<li>
<p><a href="https://wiki.archlinux.org/title/Archinstall" title="archinstall">archinstall</a></p>
</li>
</ul>
<p><a href="https://wiki.archlinux.org/title/Archinstall" title="archinstall">archinstall</a> is a helper library to install Arch Linux. It is packaged with different pre-configured installers, such as a &ldquo;guided&rdquo; installer.
<a href="https://wiki.archlinux.org/title/Installation_guide" title="Installation guide">Installation guide</a> 1.8. through 5. are automated.</p>
<h3 id="1-pre-installation">1. Pre-installation</h3>
<h4 id="11-acquire-an-installation-image">1.1 Acquire an installation image</h4>
<ul>
<li><a href="https://www.archlinux.org/download/" title="Arch Linux Downloads">Arch Linux Downloads</a></li>
</ul>
<h4 id="12-verify-signature">1.2. Verify signature</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span>gpg --keyserver-options auto-key-retrieve --verify archlinux-version-x86_64.iso.sig
</span></span></code></pre></div><h4 id="13-prepare-an-installation-medium">1.3. Prepare an installation medium</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span>dd bs<span style="color:#f92672">=</span>4M <span style="color:#66d9ef">if</span><span style="color:#f92672">=</span>path/to/archlinux-version-x86_64.iso of<span style="color:#f92672">=</span>/dev/sdx conv<span style="color:#f92672">=</span>fsync oflag<span style="color:#f92672">=</span>direct status<span style="color:#f92672">=</span>progress
</span></span></code></pre></div><h4 id="14-boot-the-live-environment">1.4. Boot the live environment</h4>
<p>Set BIOS configuration: Press F2</p>
<ul>
<li>Sleep Mode: Force S3</li>
<li>Fast Boot: Thorough (Disabled)</li>
<li>Secure Boot: Disabled</li>
</ul>
<p>Boot from the USB flash drive: Press F12</p>
<h4 id="15-set-the-console-keyboard-layout">1.5. Set the console keyboard layout</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span>loadkeys jp106
</span></span></code></pre></div><h4 id="16-verify-the-boot-mode">1.6. Verify the boot mode</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span>ls /sys/firmware/efi/efivars
</span></span></code></pre></div><h4 id="17-connect-to-the-internet">1.7. Connect to the Internet</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span>iwctl
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>iwd<span style="color:#f92672">]</span><span style="color:#75715e"># device list</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>iwd<span style="color:#f92672">]</span><span style="color:#75715e"># station ${DEVICENAME} scan</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>iwd<span style="color:#f92672">]</span><span style="color:#75715e"># station ${DEVICENAME} get-networks</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>iwd<span style="color:#f92672">]</span><span style="color:#75715e"># station ${DEVICENAME} connect ${SSID}</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>iwd<span style="color:#f92672">]</span><span style="color:#75715e"># quit</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span>ping archlinux.org
</span></span></code></pre></div><h4 id="18-update-the-system-clock">1.8. Update the system clock</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span>timedatectl set-ntp true
</span></span><span style="display:flex;"><span>timedatectl status
</span></span></code></pre></div><h4 id="19-partition-the-disks">1.9. Partition the disks</h4>
<p>Identify devices</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span>fdisk -l
</span></span></code></pre></div><p>Example layout (UEFI with GPT)</p>
<table>
<thead>
<tr>
<th>Mount point:</th>
<th>Partition:</th>
<th>Partition type:</th>
<th>Size:</th>
</tr>
</thead>
<tbody>
<tr>
<td>/mnt/boot</td>
<td>/dev/nvme0n1p1</td>
<td>EFI system partition</td>
<td>512 MB</td>
</tr>
<tr>
<td>/mnt</td>
<td>/dev/nvme0n1p2</td>
<td>Linux filesystem</td>
<td>Remainder of the device</td>
</tr>
</tbody>
</table>
<p>Create partitions</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span>cgdisk /dev/nvme0n1
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>1. 512MB EFI partition <span style="color:#75715e"># Hex code ef00</span>
</span></span><span style="display:flex;"><span>2. 100% size partiton <span style="color:#75715e"># Hex code 8300</span>
</span></span></code></pre></div><p>Encrypting devices</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span>cryptsetup luksFormat /dev/nvme0n1p2
</span></span><span style="display:flex;"><span>cryptsetup open --type luks /dev/nvme0n1p2 cryptroot
</span></span></code></pre></div><p>Create encrypted partitions</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span>pvcreate /dev/mapper/cryptroot
</span></span><span style="display:flex;"><span>vgcreate vg0 /dev/mapper/cryptroot
</span></span><span style="display:flex;"><span>lvcreate -l +100%FREE vg0 -n root
</span></span></code></pre></div><h4 id="110-format-the-partitions">1.10. Format the partitions</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span>mkfs.fat -F <span style="color:#ae81ff">32</span> /dev/nvme0n1p1
</span></span><span style="display:flex;"><span>mkfs.ext4 /dev/mapper/vg0-root
</span></span></code></pre></div><h4 id="111-mount-the-file-systems">1.11. Mount the file systems</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span>mount /dev/mapper/vg0-root /mnt
</span></span><span style="display:flex;"><span>mkdir /mnt/boot
</span></span><span style="display:flex;"><span>mount /dev/nvme0n1p1 /mnt/boot
</span></span><span style="display:flex;"><span>lsblk /dev/nvme0n1
</span></span></code></pre></div><h3 id="2-installation">2. Installation</h3>
<h4 id="21-select-the-mirrors">2.1. Select the mirrors</h4>
<ul>
<li><a href="https://www.archlinux.org/mirrorlist/" title="Pacman Mirrorlist Generator">Pacman Mirrorlist Generator</a></li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span>nano /etc/pacman.d/mirrorlist
</span></span></code></pre></div><h4 id="22-install-essential-packages">2.2. Install essential packages</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span>pacstrap /mnt base base-devel linux linux-firmware nano
</span></span></code></pre></div><h3 id="3-configure-the-system">3. Configure the system</h3>
<h4 id="31-fstab">3.1. Fstab</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span>genfstab -U /mnt &gt;&gt; /mnt/etc/fstab
</span></span></code></pre></div><h4 id="32-chroot">3.2. Chroot</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span>arch-chroot /mnt
</span></span></code></pre></div><h4 id="33-time-zone">3.3. Time zone</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span>ln -sf /usr/share/zoneinfo/Asia/Tokyo /etc/localtime
</span></span><span style="display:flex;"><span>hwclock --systohc --utc
</span></span></code></pre></div><h4 id="34-localization">3.4 Localization</h4>
<p>Uncomment locales</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span>nano /etc/locale.gen
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Uncomment line en_US.UTF-8 UTF-8
</span></span><span style="display:flex;"><span>Uncomment line ja_JP.UTF-8 UTF-8
</span></span></code></pre></div><p>Generate locales</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span>locale-gen
</span></span></code></pre></div><p>Set the language and keyboard layout</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span>echo LANG<span style="color:#f92672">=</span>en_US.UTF-8 &gt; /etc/locale.conf
</span></span><span style="display:flex;"><span>echo KEYMAP<span style="color:#f92672">=</span>jp106 &gt; /etc/vconsole.conf
</span></span></code></pre></div><h4 id="35-network-configuration">3.5. Network configuration</h4>
<p>Set the hostname</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span>echo <span style="color:#e6db74">${</span>MYHOSTNAME<span style="color:#e6db74">}</span> &gt; /etc/hostname
</span></span></code></pre></div><p>Add matching entries</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span>nano /etc/hosts
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>127.0.0.1 localhost
</span></span><span style="display:flex;"><span>::1       localhost
</span></span><span style="display:flex;"><span>127.0.1.1 <span style="color:#e6db74">${</span>MYHOSTNAME<span style="color:#e6db74">}</span>
</span></span></code></pre></div><p>Setup NetworkManager</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span>pacman -S networkmanager dhcpcd
</span></span><span style="display:flex;"><span>systemctl enable NetworkManager
</span></span></code></pre></div><h4 id="36-initramfs">3.6. Initramfs</h4>
<p>Modify mkinitcpio.conf</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span>nano /etc/mkinitcpio.conf
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Add <span style="color:#e6db74">&#39;ext4&#39;</span> to MODULES
</span></span><span style="display:flex;"><span>Add <span style="color:#e6db74">&#39;encrypt&#39;</span> and <span style="color:#e6db74">&#39;lvm2&#39;</span> to HOOKS before <span style="color:#e6db74">&#39;filesystems&#39;</span>
</span></span></code></pre></div><p>Recreate the initramfs image</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span>pacman -S lvm2
</span></span><span style="display:flex;"><span>mkinitcpio -p
</span></span></code></pre></div><h4 id="37-root-password">3.7. Root password</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span>passwd
</span></span></code></pre></div><h4 id="38-boot-loader">3.8. Boot loader</h4>
<p>Install systemd-boot</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span>bootctl install
</span></span></code></pre></div><p>Setup systemd-boot</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span>nano /boot/loader/loader.conf
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>default arch.conf
</span></span><span style="display:flex;"><span>timeout <span style="color:#ae81ff">4</span>
</span></span><span style="display:flex;"><span>console-mode max
</span></span><span style="display:flex;"><span>editor  no
</span></span></code></pre></div><p>Adding loaders</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span>nano /boot/loader/entries/arch.conf
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>title   Arch Linux
</span></span><span style="display:flex;"><span>linux   /vmlinuz-linux
</span></span><span style="display:flex;"><span>initrd  /amd-ucode.img
</span></span><span style="display:flex;"><span>initrd  /initramfs-linux.img
</span></span></code></pre></div><p>Setup Microcode</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span>pacman -S amd-ucode
</span></span></code></pre></div><h4 id="4-reboot">4. Reboot</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span>exit
</span></span><span style="display:flex;"><span>umount -R /mnt
</span></span><span style="display:flex;"><span>reboot
</span></span></code></pre></div><h4 id="5-post-installation">5. Post-installation</h4>
<p>Login with root account</p>
<p>Setup NetworkManager</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span>nmtui
</span></span></code></pre></div><h2 id="general-recommendations">General recommendations</h2>
<ul>
<li><a href="https://wiki.archlinux.org/title/general_recommendations" title="General recommendations">General recommendations</a></li>
</ul>
<h3 id="1-system-administration">1. System administration</h3>
<h4 id="11-users-and-groups">1.1. Users and groups</h4>
<p>Login with root account</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span>useradd -m -g users -G wheel <span style="color:#e6db74">${</span>USERNAME<span style="color:#e6db74">}</span>
</span></span><span style="display:flex;"><span>passwd <span style="color:#e6db74">${</span>USERNAME<span style="color:#e6db74">}</span>
</span></span></code></pre></div><p>To allow members of group wheel sudo access</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span>EDITOR<span style="color:#f92672">=</span>nano visudo
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Uncommment line %wheel ALL<span style="color:#f92672">=(</span>ALL<span style="color:#f92672">)</span> ALL
</span></span><span style="display:flex;"><span>Uncommment line %wheel ALL<span style="color:#f92672">=(</span>ALL<span style="color:#f92672">)</span> NOPASSWD: ALL
</span></span></code></pre></div><p>Return to regular user</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span>exit
</span></span></code></pre></div><h3 id="2-package-management">2. Package management</h3>
<h4 id="21-pacman">2.1. pacman</h4>
<p>Update all packages</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span>sudo pacman -Syu
</span></span></code></pre></div><p>Utilizing multiple cores on compression</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span>sudo nano /etc/makepkg.conf
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Change line COMPRESSXZ<span style="color:#f92672">=(</span>xz -c -z - --threads<span style="color:#f92672">=</span>0<span style="color:#f92672">)</span>
</span></span></code></pre></div><h4 id="25-arch-user-repository">2.5. Arch User Repository</h4>
<p>Setup paru (AUR Helper)</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span>sudo pacman -S --needed base-devel git
</span></span><span style="display:flex;"><span>git clone https://aur.archlinux.org/paru.git
</span></span><span style="display:flex;"><span>cd paru
</span></span><span style="display:flex;"><span>makepkg -si
</span></span><span style="display:flex;"><span>cd
</span></span><span style="display:flex;"><span>rm -rf paru
</span></span></code></pre></div><p>Update all packages</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span>paru
</span></span></code></pre></div><h3 id="4-graphical-user-interface">4. Graphical user interface</h3>
<h4 id="41-display-server">4.1. Display server</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span>sudo pacman -S xorg-server xorg-apps
</span></span><span style="display:flex;"><span>sudo localectl set-x11-keymap jp
</span></span></code></pre></div><h4 id="42-display-drivers">4.2. Display drivers</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span>lspci | grep -e VGA -e 3D
</span></span><span style="display:flex;"><span>sudo pacman -S xf86-video-amdgpu
</span></span></code></pre></div><h4 id="43-desktop-environments">4.3. Desktop environments</h4>
<p>Setup Xfce</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span>sudo pacman -S xfce4 xfce4-goodies
</span></span></code></pre></div><p>Set the language</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span>sudo nano /etc/locale.conf
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>LANG<span style="color:#f92672">=</span>ja_JP.UTF-8
</span></span></code></pre></div><p>Reboot</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span>reboot
</span></span></code></pre></div><h4 id="45-display-manager">4.5. Display manager</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span>sudo pacman -S lightdm lightdm-gtk-greeter
</span></span><span style="display:flex;"><span>sudo systemctl enable lightdm.service
</span></span></code></pre></div><h3 id="5-power-management">5. Power management</h3>
<h4 id="51-acpi-events">5.1. ACPI events</h4>
<ul>
<li>xfce4-power-manager
<ul>
<li>System
<ul>
<li>On battery
<ul>
<li>System power saving
<ul>
<li>System sleep mode: Suspend</li>
</ul>
</li>
<li>Laptop Lid
<ul>
<li>when laptop lid is closed: Suspend</li>
</ul>
</li>
</ul>
</li>
<li>Plugged in
<ul>
<li>System power saving
<ul>
<li>System sleep mode: Suspend</li>
</ul>
</li>
<li>Laptop Lid
<ul>
<li>when laptop lid is closed: Suspend</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>To disable both blanking and DPMS, right click on the power manager system tray icon or left click on the panel applet and make sure that the option labelled Presentation mode is ticked.</p>
<h3 id="6-multimedia">6. Multimedia</h3>
<h4 id="61-sound-system">6.1. Sound System</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span>sudo pacman -S pipewire
</span></span></code></pre></div><h3 id="7-networking">7. Networking</h3>
<h4 id="73-setting-up-a-firewall">7.3. Setting up a firewall</h4>
<ul>
<li><a href="https://wiki.archlinux.jp/index.php/Uncomplicated_Firewall" title="Uncomplicated Firewall">Uncomplicated Firewall</a></li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span>sudo pacman -S ufw gufw
</span></span><span style="display:flex;"><span>sudo systemctl enable ufw
</span></span><span style="display:flex;"><span>sudo systemctl status ufw
</span></span><span style="display:flex;"><span>sudo ufw enable
</span></span><span style="display:flex;"><span>sudo ufw status
</span></span></code></pre></div><h3 id="8-input-devices">8. Input Devices</h3>
<h4 id="81-keyboard-layouts">8.1. Keyboard layouts</h4>
<ul>
<li>xfce4-settings
<ul>
<li>Keyboard
<ul>
<li>behavior
<ul>
<li>Typing Settings &gt; Repeat speed: 100</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="82-mouse-buttons">8.2. Mouse buttons</h4>
<p>Install IMWheel</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span>paru -S imwheel
</span></span></code></pre></div><p>Setup IMWheel</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span>nano ~/.imwheelrc
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#e6db74">&#34;.*&#34;</span>
</span></span><span style="display:flex;"><span>None, Up, Button4, <span style="color:#ae81ff">3</span>
</span></span><span style="display:flex;"><span>None, Down, Button5, <span style="color:#ae81ff">2</span>
</span></span></code></pre></div><p>Run IMWheel</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span>imwheel
</span></span></code></pre></div><p>Run IMWheel on startup using a service</p>
<ul>
<li>xfce4-session
<ul>
<li>Application Autostart
<ul>
<li>Add application
<ul>
<li>Name: imwheel</li>
<li>Command: /usr/bin/imwheel</li>
<li>Trigger: on login</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="83-laptop-touchpads">8.3. Laptop touchpads</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span>sudo pacman -S xf86-input-libinput
</span></span></code></pre></div><ul>
<li>xfce4-settings
<ul>
<li>Mouse and Touchpad
<ul>
<li>Devices
<ul>
<li>Devices: DELL Touchpad
<ul>
<li>Buttons and Feedback
<ul>
<li>Buttons: Reverse scroll direction: on</li>
</ul>
</li>
<li>Touchpad
<ul>
<li>General: Tap touchpad to click: on</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="11-appearance">11. Appearance</h3>
<h4 id="111-fonts">11.1. Fonts</h4>
<ul>
<li><a href="https://fonts.google.com" title="Google Fonts">Google Fonts</a></li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span>sudo pacman -S noto-fonts<span style="color:#f92672">{</span>,-cjk,-emoji,-extra<span style="color:#f92672">}</span>
</span></span></code></pre></div><ul>
<li>
<p>xfce4-settings</p>
<ul>
<li>Appearance
<ul>
<li>Fonts
<ul>
<li>Default Font: Noto Sans CJK JP Regular, 18pt</li>
<li>Default Monospace Font: Noto Sans Mono CJK JP Regular, 18pt</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p><a href="https://github.com/edihbrandon/RictyDiminished" title="Ricty Diminished">Ricty Diminished</a></p>
</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span>sudo mkdir -p /usr/share/fonts/TTF
</span></span><span style="display:flex;"><span>git clone https://github.com/edihbrandon/RictyDiminished.git
</span></span><span style="display:flex;"><span>cd RictyDiminished
</span></span><span style="display:flex;"><span>sudo cp *.ttf /usr/share/fonts/TTF
</span></span><span style="display:flex;"><span>fc-cache -vf
</span></span><span style="display:flex;"><span>cd
</span></span><span style="display:flex;"><span>rm -rf RictyDiminished
</span></span></code></pre></div><h3 id="12-console-improvements">12. Console improvements</h3>
<h4 id="123-alternative-shells">12.3. Alternative shells</h4>
<p>Setup Zsh</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span>sudo pacman -S zsh
</span></span><span style="display:flex;"><span>zsh
</span></span><span style="display:flex;"><span>chsh -s <span style="color:#66d9ef">$(</span>which zsh<span style="color:#66d9ef">)</span>
</span></span></code></pre></div><p>Setup Prezto</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span>git clone --recursive https://github.com/sorin-ionescu/prezto.git <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">${</span>ZDOTDIR<span style="color:#66d9ef">:-</span>$HOME<span style="color:#e6db74">}</span><span style="color:#e6db74">/.zprezto&#34;</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span>setopt EXTENDED_GLOB
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span> rcfile in <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">${</span>ZDOTDIR<span style="color:#66d9ef">:-</span>$HOME<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>/.zprezto/runcoms/^README.md<span style="color:#f92672">(</span>.N<span style="color:#f92672">)</span>; <span style="color:#66d9ef">do</span>
</span></span><span style="display:flex;"><span>  ln -s <span style="color:#e6db74">&#34;</span>$rcfile<span style="color:#e6db74">&#34;</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">${</span>ZDOTDIR<span style="color:#66d9ef">:-</span>$HOME<span style="color:#e6db74">}</span><span style="color:#e6db74">/.</span><span style="color:#e6db74">${</span>rcfile:t<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">done</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span>nano ~/.zpreztorc
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>+++
</span></span><span style="display:flex;"><span>zstyle <span style="color:#e6db74">&#39;:prezto:load&#39;</span> pmodule <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  <span style="color:#e6db74">&#39;environment&#39;</span> <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  <span style="color:#e6db74">&#39;terminal&#39;</span> <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  <span style="color:#e6db74">&#39;editor&#39;</span> <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  <span style="color:#e6db74">&#39;history&#39;</span> <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  <span style="color:#e6db74">&#39;directory&#39;</span> <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  <span style="color:#e6db74">&#39;spectrum&#39;</span> <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  <span style="color:#e6db74">&#39;utility&#39;</span> <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  <span style="color:#e6db74">&#39;completion&#39;</span> <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  <span style="color:#e6db74">&#39;history-substring-search&#39;</span> <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  <span style="color:#e6db74">&#39;autosuggestions&#39;</span> <span style="color:#ae81ff">\ </span><span style="color:#75715e"># Add</span>
</span></span><span style="display:flex;"><span>  <span style="color:#e6db74">&#39;git&#39;</span> <span style="color:#ae81ff">\ </span><span style="color:#75715e"># Add</span>
</span></span><span style="display:flex;"><span>  <span style="color:#e6db74">&#39;syntax-highlighting&#39;</span> <span style="color:#ae81ff">\ </span><span style="color:#75715e"># Add</span>
</span></span><span style="display:flex;"><span>  <span style="color:#e6db74">&#39;prompt&#39;</span>
</span></span><span style="display:flex;"><span>+++
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Auto set to &#39;off&#39; on dumb terminals.</span>
</span></span><span style="display:flex;"><span>zstyle <span style="color:#e6db74">&#39;:prezto:module:prompt&#39;</span> theme <span style="color:#e6db74">&#39;pure&#39;</span> <span style="color:#75715e"># sorin to pure</span>
</span></span><span style="display:flex;"><span>+++
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span>source ~/.zpreztorc
</span></span></code></pre></div><h4 id="125-colored-output">12.5. Colored output</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span>sudo nano /etc/pacman.conf
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Uncommment line Color
</span></span></code></pre></div><h2 id="localizationjapanese">Localization/Japanese</h2>
<ul>
<li><a href="https://wiki.archlinux.org/title/Localization/Japanese" title="Localization/Japanese">Localization/Japanese</a></li>
</ul>
<h3 id="3-input-methods">3. Input methods</h3>
<h4 id="33-mozc">3.3. Mozc</h4>
<p>Setup Mozc and Fcitx</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span>sudo pacman -S fcitx5-im fcitx5-mozc
</span></span></code></pre></div><p>Set environment variables for IM modules</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span>sudo nano /etc/environment
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>GTK_IM_MODULE<span style="color:#f92672">=</span>fcitx5
</span></span><span style="display:flex;"><span>QT_IM_MODULE<span style="color:#f92672">=</span>fcitx5
</span></span><span style="display:flex;"><span>XMODIFIERS<span style="color:#f92672">=</span>@im<span style="color:#f92672">=</span>fcitx5
</span></span></code></pre></div><p>Reboot</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span>reboot
</span></span></code></pre></div><ul>
<li>Fcitx 5 Configuration
<ul>
<li>Input Method
<ul>
<li>Add Mozc</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="hyper">Hyper</h2>
<ul>
<li><a href="https://hyper.is" title="Hyper">Hyper</a></li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span>paru -S hyper
</span></span></code></pre></div><h3 id="1-preferences">1. Preferences</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span>+++
</span></span><span style="display:flex;"><span>module.exports <span style="color:#f92672">=</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>  config: <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>    +++
</span></span><span style="display:flex;"><span>    // default font size in pixels <span style="color:#66d9ef">for</span> all tabs
</span></span><span style="display:flex;"><span>    fontSize: 18, <span style="color:#75715e"># Change</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    // font family with optional fallbacks
</span></span><span style="display:flex;"><span>    fontFamily: <span style="color:#e6db74">&#39;Ricty Diminished&#39;</span>, <span style="color:#75715e"># Change</span>
</span></span><span style="display:flex;"><span>    +++
</span></span><span style="display:flex;"><span>    +++
</span></span><span style="display:flex;"><span>    // rest of the config <span style="color:#75715e"># Add</span>
</span></span><span style="display:flex;"><span>    opacity: 0.80, <span style="color:#75715e"># Add</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">}</span>,
</span></span><span style="display:flex;"><span>  +++
</span></span><span style="display:flex;"><span>  +++
</span></span><span style="display:flex;"><span>  plugins: <span style="color:#f92672">[</span>
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;hyper-material-theme&#34;</span>, <span style="color:#75715e"># Add</span>
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;hyper-opacity&#34;</span>, <span style="color:#75715e"># Add</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">]</span>,
</span></span><span style="display:flex;"><span>  +++
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>;
</span></span></code></pre></div><h2 id="visual-studio-code">Visual Studio Code</h2>
<ul>
<li><a href="https://azure.microsoft.com/en-us/products/visual-studio-code/" title="Visual Studio Code">Visual Studio Code</a></li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span>paru -S visual-studio-code-bin
</span></span><span style="display:flex;"><span>sudo pacman -S gnomekeyring
</span></span></code></pre></div><h3 id="1-accounts">1. Accounts</h3>
<ul>
<li>Setting Sync is On</li>
</ul>
<p>Installed Extensions</p>
<ul>
<li>Docker</li>
<li>GitHub Theme</li>
<li>GlassIt-VSC</li>
<li>Jupyter</li>
<li>Jupyter Keymap</li>
<li>Jupyter Notebook Renderers</li>
<li>markdownlint</li>
<li>Marp for VS Code</li>
<li>Material Icon Theme</li>
<li>Path Intellisense</li>
<li>Prettier - Code formatter</li>
<li>Pylance</li>
<li>Python</li>
<li>Remote - Containers</li>
<li>Remote - SSH</li>
<li>Remote - WSL</li>
<li>Remote Development</li>
<li>Trailing Spaces</li>
<li>YAML</li>
</ul>
<h2 id="docker">Docker</h2>
<ul>
<li><a href="https://www.docker.com" title="Docker">Docker</a></li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span>sudo pacman -S docker
</span></span><span style="display:flex;"><span>sudo systemctl enable docker
</span></span></code></pre></div><h2 id="etc">ETC</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span>sudo pacman -S firefox
</span></span><span style="display:flex;"><span>sudo pacman -S firefox-i18n-ja
</span></span><span style="display:flex;"><span>paru -S google-chrome
</span></span></code></pre></div>
  </div>
</section>


</body>
</html>
